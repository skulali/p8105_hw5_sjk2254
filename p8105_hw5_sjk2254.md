p8105_hw5_sjk2254
================
Sharon Kulali

``` r
# loading the needed packages

library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.3     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

# Problem 1

``` r
# importing the data

homicides_df = 
  read_csv("data/homicide-data.csv") |> 
  mutate(city_state = paste(city, state, sep = ",")) 
```

    ## Rows: 52179 Columns: 12
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (9): uid, victim_last, victim_first, victim_race, victim_age, victim_sex...
    ## dbl (3): reported_date, lat, lon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
# total number of homicides

homicides_df |>
  group_by(city) |> 
  summarise(count = n())
```

    ## # A tibble: 50 × 2
    ##    city        count
    ##    <chr>       <int>
    ##  1 Albuquerque   378
    ##  2 Atlanta       973
    ##  3 Baltimore    2827
    ##  4 Baton Rouge   424
    ##  5 Birmingham    800
    ##  6 Boston        614
    ##  7 Buffalo       521
    ##  8 Charlotte     687
    ##  9 Chicago      5535
    ## 10 Cincinnati    694
    ## # ℹ 40 more rows

``` r
# number of unsolved homicides

homicides_df |>
  filter(disposition %in% c("Closed without arrest", "Open/No arrest")) |> 
  group_by(city) |> 
  summarise(unsolved_count = n())
```

    ## # A tibble: 50 × 2
    ##    city        unsolved_count
    ##    <chr>                <int>
    ##  1 Albuquerque            146
    ##  2 Atlanta                373
    ##  3 Baltimore             1825
    ##  4 Baton Rouge            196
    ##  5 Birmingham             347
    ##  6 Boston                 310
    ##  7 Buffalo                319
    ##  8 Charlotte              206
    ##  9 Chicago               4073
    ## 10 Cincinnati             309
    ## # ℹ 40 more rows

``` r
homicides_df |>
  filter(disposition %in% c("Closed without arrest", "Open/No arrest")) |> 
  group_by(city) |> 
  summarise(unsolved_count = n()) |> 
  pull(unsolved_count) |> 
  sum()
```

    ## [1] 26505

``` r
# number of unsolved homicides in Baltimore

homicides_df |>
  filter(city == "Baltimore") |> 
  summarise(count = n())
```

    ## # A tibble: 1 × 1
    ##   count
    ##   <int>
    ## 1  2827

``` r
homicides_df |> 
  filter(city == "Baltimore",
         disposition %in% c("Closed without arrest", "Open/No arrest")) |> 
  summarise(unsolved_count = n())
```

    ## # A tibble: 1 × 1
    ##   unsolved_count
    ##            <int>
    ## 1           1825

``` r
bpt =
  prop.test(x = 1825, n = 2827) |> 
  broom::tidy() |> 
  select(estimate, conf.low, conf.high)
```
